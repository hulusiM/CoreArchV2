@inject Microsoft.Extensions.Configuration.IConfiguration _config
@using Microsoft.AspNetCore.Http
@inject IHttpContextAccessor HttpContextAccessor
@{
    var dynamicAuthMenuList = HttpContextAccessor.HttpContext.Session.GetString("AuthorizationMenuList");
    var userName = HttpContextAccessor.HttpContext.Session.GetString("UserName");
    var userId = HttpContextAccessor.HttpContext.Session.GetInt32("UserId");
    var unitName = HttpContextAccessor.HttpContext.Session.GetString("UnitName");
    var userImage = HttpContextAccessor.HttpContext.Session.GetString("UserImage");
    var isAdmin = HttpContextAccessor.HttpContext.Session.GetString("IsAdmin");
}
<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="iso-8859-9">
    <meta name="http-equiv" content="Content-type: text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=windows-1254">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <noscript>Please,run javascript!!</noscript>
    <title>@_config["FirmSetting:DisplayName"]</title>

    <!-- Global stylesheets -->
    <link href="~/admin/css/bootstrap.css" rel="stylesheet" />
    <link href="~/admin/css/components.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,100,500,700,900" rel="stylesheet" type="text/css">
    <link href="~/admin/css/icons/icomoon/styles.css" rel="stylesheet" />
    <link href="~/admin/css/core.css" rel="stylesheet" />
    <link href="~/admin/css/colors.css" rel="stylesheet" />
    <!-- /global stylesheets -->
    <!-- SignalR -->
    <script src="~/admin/js/signalr/signalr.js"></script>
    <script src="~/js/jsutilities/signalrFunction.js"></script>
    <!-- /SignalR -->
    <!-- Core JS files -->
    <script src="~/admin/js/plugins/loaders/pace.min.js"></script>
    @*<script src="~/admin/js/core/libraries/jquery.min.js"></script>*@
    <script src="~/admin/js/core/libraries/jqueryOld.min.js"></script>
    <script src="~/admin/js/core/libraries/bootstrap.min.js"></script>
    <script src="~/admin/js/plugins/loaders/blockui.min.js"></script>
    <!-- /core JS files -->
    <!-- Theme JS files -->
    <script src="~/admin/js/plugins/visualization/d3/d3.min.js"></script>
    <script src="~/admin/js/plugins/visualization/d3/d3_tooltip.js"></script>
    <script src="~/admin/js/core/app.js"></script>

    <script src="~/admin/js/plugins/notifications/jgrowl.min.js"></script>
    <script src="~/admin/js/plugins/ui/moment/moment.min.js"></script>
    <script src="~/admin/js/plugins/pickers/daterangepicker.js"></script>
    <script src="~/admin/js/plugins/pickers/anytime.min.js"></script>
    <script src="~/admin/js/plugins/pickers/pickadate/picker.js"></script>
    <script src="~/admin/js/plugins/pickers/pickadate/picker.date.js"></script>
    <script src="~/admin/js/plugins/pickers/pickadate/picker.time.js"></script>
    <script src="~/admin/js/plugins/pickers/pickadate/legacy.js"></script>
    <script src="~/admin/js/pages/picker_date.js"></script>
    <script src="~/admin/Toastr/toastr.js"></script>
    <script src="~/admin/js/core/libraries/jquery_ui/interactions.min.js"></script>
    <script src="~/admin/js/pages/form_select2.js"></script>
    <script src="~/admin/js/plugins/forms/selects/select2.min.js"></script>
    @* <script src="~/admin/js/plugins/ui/fullcalendar/lang/tr.js"></script> *@
    @* datepicker lang amchart screen*@

    <link href="~/admin/css/loadingElement.css" rel="stylesheet" />
    <script src="~/admin/js/plugins/uploaders/fileinput/sortable.js"></script>
    <script src="~/admin/js/plugins/uploaders/fileinput/fileinput.js"></script>
    <script type="text/javascript" src="~/admin/js/pages/tr.js" charset="utf-8"></script>
    <link href="~/admin/css/fileuploader/fileinput.min.css" rel="stylesheet" />
    <script src="~/admin/js/plugins/uploaders/fileinput/theme.js"></script>
    <link href="~/admin/js/plugins/uploaders/fileinput/theme.css" rel="stylesheet" />
    <script src="~/admin/js/pages/components_navs.js"></script>
    <script src="~/admin/js/plugins/forms/inputs/touchspin.min.js"></script>
    <script src="~/admin/js/plugins/ui/fab.min.js"></script>
    <script src="~/admin/js/plugins/ui/prism.min.js"></script>
    @*<script src="~/admin/js/pages/wizard_stepy.js"></script>*@
    <script src="~/admin/js/plugins/forms/wizards/stepy.min.js"></script>
    <script src="~/admin/js/plugins/extensions/session_timeout.min.js"></script>
    <script type="text/javascript" src="~/admin/js/plugins/editors/summernote/summernote.min.js"></script>
    @*<script type="text/javascript" src="~/admin/js/pages/editor_summernote.js"></script>*@

    <!-- Map files -->
    <link href="~/leaflet/leaflet.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.Default.css" />
    <link href="~/leaflet/sidebar/css/leaflet-sidebar.css" rel="stylesheet" />
</head>

<body class="navbar-bottom">
    @*------*********************************************VERIFICATION TOKEN ZONE*****************************************------*@
    @*@inject Microsoft.AspNetCore.Antiforgery.IAntiforgery Xsrf
    @functions{
    public string GetAntiXsrfRequestToken()
    {
    return Xsrf.GetAndStoreTokens(Context).RequestToken;
    }
    }
    <input type="hidden" id="RequestVerificationToken" name="RequestVerificationToken" value="@GetAntiXsrfRequestToken()">*@
    @*------*************************************************************************************************************------*@
    <!-- Main navbar -->
    <div class="navbar navbar-inverse">
        <div class="navbar-header">
            <a class="navbar-brand" href="/Home/Index">
                <img src="@_config["FirmSetting:Logo"]" title="#Tech" style="height: 37px; margin: -8px 0 0 0px;">
            </a>

            <ul class="nav navbar-nav visible-xs-block">
                <li>
                    <a data-toggle="collapse" data-target="#navbar-mobile">
                        <i class="icon-tree5"></i>
                    </a>
                </li>
                <li>
                    <a class="sidebar-mobile-main-toggle">
                        <i class="icon-paragraph-justify3"></i>
                    </a>
                </li>
            </ul>
        </div>

        <div class="navbar-collapse collapse" id="navbar-mobile">
            <ul class="nav navbar-nav">
                <li>
                    <a class="sidebar-control sidebar-main-toggle hidden-xs" data-toggle="tab">
                        <i class="icon-paragraph-justify3"></i>
                    </a>
                </li>
                @*<li>
                <a onclick="openChatModal()" data-toggle="tab" class="sidebar-control sidebar-secondary-hide hidden-xs">
                <i class="icon-comments"></i>
                <span id="chatMessageSpan" class="badge bg-success-400">0</span>
                </a>
                </li>*@
            </ul>

            <p class="navbar-text">
                <span class="label bg-success-400">Online</span>
            </p>
            <ul class="nav navbar-nav navbar-right">
                @await Html.PartialAsync("~/Views/Shared/PartialViews/Message/_NavbarMessages.cshtml")
                <li class="dropdown dropdown-user">
                    <a class="dropdown-toggle" data-toggle="dropdown">
                        @{
                            if (userImage != "")
                            {
                                var imgSrc = String.Format("data:image/gif;base64,{0}", userImage);
                                <img class="profilePhoto" src="@imgSrc">
                            }
                            else
                            {
                                <img class="profilePhoto" src="/admin/images/userEmpty.jpg">
                            }
                        }
                        <span>@userName</span>
                        <i class="caret"></i>
                    </a>
                    <ul class="dropdown-menu dropdown-menu-right">
                        <li>
                            <a href="/User/MyAccount"><i class="icon-user"></i> Hesabım</a>
                        </li>
                        <li>
                            <a href="/Login/Logout"><i class="icon-switch2"></i> Çıkış Yap</a>
                        </li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
    <!-- /main navbar -->
    <!-- Page header -->
    <div class="page-header">
        <div class="breadcrumb-line">
            <ul class="breadcrumb">
                <li>
                    <a href="/Home/Index"><i class="icon-home2 position-left"></i> Anasayfa</a>
                </li>
                <li id="broadCrumbDiv" class="active">Dashboard</li>
            </ul>
        </div>
    </div>
    <!-- /page header -->
    <!-- Page container -->
    <div class="page-container">

        <!-- Page content -->
        <div class="page-content">

            <!-- Main sidebar -->
            <div class="sidebar sidebar-main sidebar-default">
                <div class="sidebar-content" style="margin: 3px 10px 0px -16px;">

                    <!-- Main navigation -->
                    <div class="sidebar-category sidebar-category-visible border-top-lg" style="font-size:12px;">
                        <div class="category-title h6">
                            <ul class="icons-list">
                                <li>
                                    <a href="#" data-action="collapse"></a>
                                </li>
                            </ul>
                        </div>

                        <div class="category-content sidebar-user">
                            <div class="media">
                                @{
                                    if (userImage != "")
                                    {
                                        var imgSrc = String.Format("data:image/gif;base64,{0}", userImage);
                                        <a data-toggle="modal" title="Profilimi görüntüle" href="#PersonModal" onclick="funcGetPerson(@userId)" class="media-left">
                                            <img src="@imgSrc" class="img-circle img-sm profilePhoto" title="@userName" style="height: 60px !important;width: 55px !important;">
                                        </a>
                                    }
                                    else
                                    {
                                        <a href="/User/MyAccount" class="media-left">
                                            <img src="/admin/images/userEmpty.jpg" class="img-circle img-sm profilePhoto" title="@userName" style="height: 60px !important;width: 55px !important;">
                                        </a>
                                    }
                                }
                                <div class="media-body">
                                    <span class="media-heading text-semibold">@userName</span>
                                    <div class="text-size-mini text-muted">
                                        <i class="icon-align-bottom text-size-small"></i> &nbsp;@unitName
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="category-content no-padding">
                            <ul class="navigation navigation-main navigation-accordion">
                                <!-- Main -->
                                <li class="navigation-header" style="margin-bottom: -20px;">
                                    <span>Menüler</span> <i class="icon-menu" title="" data-original-title="Anasayfa"></i>
                                </li>
                                <li>
                                    <hr />
                                </li>
                                @Html.Raw(dynamicAuthMenuList)
                                <!-- /main -->
                            </ul>
                        </div>
                    </div>
                    <!-- /main navigation -->
                </div>
            </div>
            <!-- /main sidebar -->
            <!-- Main content -->
            <div class="content-wrapper">
                @RenderBody()
                @await Html.PartialAsync("~/Views/Shared/PartialViews/User/_Person.cshtml")
                @*@await Html.PartialAsync("~/Views/Shared/PartialViews/ChatMessage/_ChatMessage.cshtml")*@
                @{
                    if (Convert.ToBoolean(isAdmin))
                    {
                        @await Html.PartialAsync("~/Views/Shared/PartialViews/ChatMessage/_testChat.cshtml")
                    }
                }
            </div>
            <!-- /main content -->
        </div>
        <!-- /page content -->
    </div>
    <!-- /page container -->
    <!-- page loading effect -->
    <div id="loadingEffect" class="overlay">
        <div class="preloader">
            <div class="diamond">
                <span></span>
                <span></span>
                <span></span>
            </div>
            <div class="movement">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
        <div class="loadingDot">Yükleniyor</div>
    </div>
    <!-- page loading effect -->
    <!-- Footer -->
    <div class="navbar navbar-default navbar-fixed-bottom footer">
        <ul class="nav navbar-nav visible-xs-block">
            <li>
                <a class="text-center collapsed" data-toggle="collapse" data-target="#footer">
                    <i class="icon-circle-up2"></i>
                </a>
            </li>
        </ul>

        <div class="navbar-collapse collapse" id="footer">
            <div class="navbar-text">
                &copy; @DateTime.Now.Year <a href="#" class="navbar-link">@_config["FirmSetting:DisplayName"] || Tüm haklar saklıdır.</a>
            </div>
        </div>
    </div>

    <!-- /footer -->
    @RenderSection("scripts", false) <!--false: Her sayfada scripts oluşmak zorunda değil-->
    <script src="~/js/jsutilities/ajxutils.js"></script>
    <script src="~/js/jsutilities/utilities.js"></script>
    <script src="~/js/jsutilities/fileuploader_vehicle.js"></script>
    <script src="~/js/jsutilities/fileuploader_tender.js"></script>
    <script src="~/admin/js/plugins/notifications/sweet_alert.min.js"></script>
    <script src="~/admin/js/plugins/forms/styling/switch.min.js"></script>
    <link href="~/admin/Toastr/toastr.css" rel="stylesheet" />
    <link href="~/admin/css/font-awesome-animation.min.css" rel="stylesheet" />
    <link href="~/admin/css/icons/fontawesome/styles.min.css" rel="stylesheet" />
    <script src="~/admin/js/moneyformat/money.js"></script>
    <link href="~/admin/css/datatable-loading-animation.css" rel="stylesheet" />


    <!-- <script src="~/admin/js/pages/form_select2.js"></script>-->
    <!-- <script src="~/admin/js/core/libraries/jquery_ui/core.min.js"></script>-->
    <!-- <script src="~/admin/js/plugins/forms/selects/selectboxit.min.js"></script>-->
    <!-- <script src="~/admin/js/plugins/forms/inputs/typeahead/typeahead.bundle.min.js"></script>-->
    <!-- <script src="~/admin/js/plugins/forms/styling/switchery.min.js"></script>-->
    <!-- <script src="@Url.Content("~/bundles/js/main.min.js")" asp-append-version="true"></script>-->

</body>
</html>